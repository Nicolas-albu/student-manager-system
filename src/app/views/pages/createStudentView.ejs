<%- contentFor('body') %>
<div>
    <h1 align="center">Cadastro de Estudante</h1>
</div>

<div class="container">
    <form id="alunoForm" action="/student" method="POST">
      <div class="form-group">
        <label>Nome:</label>
        <input type="text" id="nome" required>
      </div>
      <div class="form-group">
        <label>Data de nascimento:</label>
        <input type="date" id="data-nascimento" required>
      </div>
      <div class="form-group">
        <label>Email:</label>
        <input type="text" id="email" required>
      </div>
      <div class="form-actions">
        <button type="submit" class="btn-save">Salvar</button>
        <button type="button" class="btn-cancel" onclick="cancelar()">Cancelar</button>
      </div>
    </form>
</div>

<script>
  function salvarAluno() {
    const name = document.getElementById('nome').value;
    const dateOfBirth = document.getElementById('data-nascimento').value;
    const email = document.getElementById('email').value;

    const aluno = {
      name,
      dateOfBirth,
      email,
      status: "ATIVO"
    };

    console.log(aluno)

    fetch(window.location.href + '/student', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(aluno)
  }).then(response => {
    if (response.ok) {
      console.log('Aluno salvo com sucesso!');
      cancelar(); // Voltar para Tela 1 apÃ³s salvar
    } else {
      console.error('Erro ao salvar aluno:', response.statusText);
    }
  })
  .catch(error => {
    console.error('Erro ao salvar aluno:', error);
  });
  }
</script>

<style>
    body {
        font-family: Arial, sans-serif;
    }

    .container {
        max-width: 400px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
        border: 1px solid #ddd;
        border-radius: 5px;
    }

    h1 {
        text-align: center;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }

    .form-group input {
        width: 100%;
        padding: 8px;
        font-size: 16px;
        border-radius: 4px;
        border: 1px solid #ccc;
    }

    .form-actions {
        text-align: center;
    }

    .form-actions button {
        margin-right: 10px;
        padding: 8px 20px;
        font-size: 16px;
        border-radius: 4px;
        border: none;
        color: #fff;
        cursor: pointer;
    }

    .form-actions .btn-save {
        background-color: #4caf50;
    }

    .form-actions .btn-cancel {
        background-color: #f44336;
    }
</style>
